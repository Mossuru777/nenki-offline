"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[149],{8606:function(n,e,t){t.r(e),t.d(e,{default:function(){return m}});var r=t(5893),i=(t(7294),t(1506)),l=t(8346),a=t(918),s=t(6777),o=t(244),c=t(3978),d=t(9417),h=t(5605),u=t(9807),x=t(1893),f=t(1953),j=t(9412),Z=t.n(j);function m(n){var e=n.persons?n.persons.length>0?n.persons.map((function(e){return(0,r.jsxs)(d.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,r.jsx)(h.Z,{component:"th",scope:"row",children:(0,r.jsx)(l.Z,{color:"inherit",underline:"none",onClick:function(){return n.setEditPerson(e)},children:"".concat(e.name).concat(e.title)})}),(0,r.jsx)(h.Z,{align:"right",children:(0,r.jsx)(x.Z,{title:Z().format(e.death_date.format("YYYY-M-D"),"GGN\u5e74M\u6708D\u65e5>>\u5143\u5e74"),children:(0,r.jsx)("span",{children:e.death_date.format("YYYY/M/D")})})}),(0,r.jsx)(h.Z,{align:"right",children:e.nenki_list.next_nenki?(0,r.jsx)(x.Z,{title:(0,r.jsxs)(f.Z,{children:[Z().format(e.nenki_list.next_nenki.date.format("YYYY-M-D"),"GGN\u5e74M\u6708D\u65e5>>\u5143\u5e74"),e.nenki_list.last_nenki?(0,r.jsxs)(f.Z,{mt:1,children:["[\u524d\u56de]",(0,r.jsx)("br",{}),e.nenki_list.last_nenki.title,": ",e.nenki_list.last_nenki.date.format("YYYY/M/D")," (",Z().format(e.nenki_list.last_nenki.date.format("YYYY-M-D"),"GGN\u5e74M\u6708D\u65e5>>\u5143\u5e74"),")"]}):null]}),children:(0,r.jsxs)("span",{children:[e.nenki_list.next_nenki.title,": ",e.nenki_list.next_nenki.date.format("YYYY/M/D")]})}):(0,r.jsx)(x.Z,{title:(0,r.jsxs)(f.Z,{children:["[\u524d\u56de]",(0,r.jsx)("br",{}),e.nenki_list.last_nenki.title,": ",e.nenki_list.last_nenki.date.format("YYYY/M/D")," (",Z().format(e.nenki_list.last_nenki.date.format("YYYY-M-D"),"GGN\u5e74M\u6708D\u65e5>>\u5143\u5e74"),")"]}),children:(0,r.jsxs)("span",{children:[e.nenki_list.last_nenki.title,"\u304c\u7d42\u308f\u3063\u3066\u3044\u307e\u3059"]})})}),(0,r.jsx)(h.Z,{align:"right",children:null!==e.gyounen?null!==e.kyounen?(0,r.jsx)(x.Z,{title:"\u4eab\u5e74 (\u6570\u3048\u6b73): ".concat(e.kyounen),children:(0,r.jsx)("span",{children:e.gyounen})}):e.gyounen:"(\u4e0d\u660e)"}),(0,r.jsx)(h.Z,{align:"right",children:null!==e.birth_date?e.is_birth_date_accurate?(0,r.jsx)(x.Z,{title:Z().format(e.birth_date.format("YYYY-M-D"),"GGN\u5e74M\u6708D\u65e5>>\u5143\u5e74"),children:(0,r.jsx)("span",{children:e.birth_date.format("YYYY/M/D")})}):(0,r.jsx)(x.Z,{title:"".concat(e.birth_date.format("YYYY/M/D")," (").concat(Z().format(e.birth_date.format("YYYY-M-D"),"GGN\u5e74M\u6708D\u65e5>>\u5143\u5e74"),") \u9803"),children:(0,r.jsx)("span",{children:"(\u4e0d\u6b63\u78ba)"})}):"(\u4e0d\u660e)"})]},e.db_id)})):(0,r.jsx)(d.Z,{children:(0,r.jsx)(h.Z,{colSpan:4,children:"\u30c7\u30fc\u30bf\u304c\u3042\u308a\u307e\u305b\u3093"})}):(0,r.jsx)(d.Z,{children:(0,r.jsxs)(h.Z,{colSpan:4,children:[(0,r.jsx)(i.Z,{}),"\u8aad\u8fbc\u4e2d"]})});return(0,r.jsx)(s.Z,{component:a.Z,children:(0,r.jsxs)(o.Z,{sx:{minWidth:650},"aria-label":"simple table",children:[(0,r.jsx)(c.Z,{children:(0,r.jsxs)(d.Z,{children:[(0,r.jsx)(h.Z,{children:"\u540d\u524d"}),(0,r.jsx)(h.Z,{align:"right",children:"\u547d\u65e5"}),(0,r.jsx)(h.Z,{align:"right",children:"\u6b21\u306e\u5e74\u5fcc\u6cd5\u8981"}),(0,r.jsx)(h.Z,{align:"right",children:"\u884c\u5e74 (\u6e80\u5e74\u9f62)"}),(0,r.jsx)(h.Z,{align:"right",children:"\u751f\u5e74\u6708\u65e5"})]})}),(0,r.jsx)(u.Z,{children:e})]})})}},7403:function(n,e,t){t.r(e),t.d(e,{default:function(){return l}});var r=t(5893),i=(t(7294),t(9630));function l(n){return(0,r.jsx)(i.Z,{component:"h2",variant:"h5",gutterBottom:!0,children:n.children})}},5149:function(n,e,t){t.r(e),t.d(e,{default:function(){return S}});var r=t(6042),i=t(9396),l=t(603),a=t(5893),s=t(7294),o=t(9762),c=t(1927),d=t(793),h=t(1953),u=t(784),x=t(9630),f=t(6336),j=t(8346),Z=t(612),m=t(9072),Y=t(4099),_=t(5084),k=t(6540),p=t(6043),g=t(1039),y=t(3482),v=t(7403),b=t(8606),M=t(5447),D=t(4276),G=t(8),w=t.n(G);function N(n,e){var t=[n.year(),n.month()+1,n.date()];return e&&t.push(n.hour(),n.minute()),t}function C(n){return(0,a.jsxs)(x.Z,(0,i.Z)((0,r.Z)({variant:"body2",color:"text.secondary",align:"center"},n),{children:["Copyright \xa9 ",(0,a.jsx)(j.Z,{color:"inherit",href:"https://github.com/Mossuru777/",children:"Mossuru777"})," ",(new Date).getFullYear(),"."]}))}var P=(0,o.Z)();function S(){var n=(0,g.useLiveQuery)((function(){return y.Z.instance.getAllPersons()})),e=(0,l.Z)(s.useState(void 0),2),t=e[0],r=e[1],i=(0,l.Z)(s.useState(!1),2),o=i[0],j=i[1];return(0,a.jsx)(c.Z,{theme:P,children:(0,a.jsxs)(h.Z,{sx:{display:"flex"},children:[(0,a.jsx)(d.ZP,{}),(0,a.jsx)(Z.Z,{position:"absolute",children:(0,a.jsx)(u.Z,{children:(0,a.jsx)(x.Z,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,sx:{flexGrow:1},children:"Nenki Offline"})})}),(0,a.jsxs)(h.Z,{component:"main",sx:{backgroundColor:function(n){return"light"===n.palette.mode?n.palette.grey[100]:n.palette.grey[900]},flexGrow:1,height:"100vh",overflow:"auto"},children:[(0,a.jsx)(u.Z,{}),(0,a.jsxs)(f.Z,{maxWidth:"lg",sx:{mt:4,mb:4},children:[(0,a.jsx)(v.default,{children:"\u4e00\u89a7"}),(0,a.jsx)(b.default,{persons:n,setEditPerson:r}),(0,a.jsx)(h.Z,{mt:2,children:(0,a.jsxs)(m.ZP,{container:!0,direction:"row",justifyContent:"flex-end",alignItems:"center",spacing:2,children:[(0,a.jsx)(m.ZP,{item:!0,children:(0,a.jsx)(Y.Z,{variant:"contained",color:"secondary",loading:o,disabled:!n||0===n.length,startIcon:(0,a.jsx)(p.Z,{}),loadingPosition:"start",onClick:function(){if(!o&&n){j(!0);var e=(0,l.Z)(function(n){var e=w().tz("Asia/Tokyo"),t={calName:"\u5e74\u5fcc\u30ab\u30ec\u30f3\u30c0\u30fc",productId:"Nenki Calendar",lastModified:N(w()(e).utc(),!0)},r=[],i=!0,l=!1,a=void 0;try{for(var s,o=n[Symbol.iterator]();!(i=(s=o.next()).done);i=!0){var c=s.value,d=N(c.death_date,!1),h=!0,u=!1,x=void 0;try{for(var f,j=c.nenki_list.nenki_array[Symbol.iterator]();!(h=(f=j.next()).done);h=!0){var Z=f.value;r.push(Object.assign({start:N(Z.date,!1),end:N(w()(Z.date).add(1,"days"),!1),title:Z.summary,description:Z.description,created:d},t))}}catch(Y){u=!0,x=Y}finally{try{h||null==j.return||j.return()}finally{if(u)throw x}}}}catch(Y){l=!0,a=Y}finally{try{i||null==o.return||o.return()}finally{if(l)throw a}}var m=(0,D.nj)(r);if(m.error)throw m.error;return[URL.createObjectURL(new Blob([m.value],{type:"text/calendar"})),e]}(n),2),t=e[0],r=e[1],i=document.createElement("a");i.href=t,i.download="nenki_".concat(r.format("YYYY-MM-DD_HH-mm-ss"),".ics"),i.click(),i.remove(),j(!1)}},children:"\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9"})}),(0,a.jsx)(m.ZP,{item:!0,children:(0,a.jsx)(_.Z,{variant:"contained",color:"primary",startIcon:(0,a.jsx)(k.Z,{}),onClick:function(){return r(null)},children:"\u4eba\u7269\u306e\u8ffd\u52a0"})})]})}),(0,a.jsx)(M.default,{editPerson:t,closeDialog:function(){return r(void 0)}}),(0,a.jsx)(C,{sx:{pt:4}})]})]})]})})}}}]);